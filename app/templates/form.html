<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FastAPI + OpenAI Movie Playlist Curator</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <h1>Let me help you find something!</h1>

    <form method="post">
      <textarea id="user_prompt" name="user_prompt" class="input" rows="4" cols="50" required></textarea><br><br>

      <button type="submit" class="submitButton">Submit</button>
    </form>

    <br />

    {% if response %}
    <div id="playlists">
      {% for playlist in response %}
        <div class="playlist">
          <div class="playlist-header">
            <strong>{{ playlist.playlist_title }}</strong>
          </div>
          
          <!-- Display Movies -->
          {% for movie in playlist.movies %}
            <div class="movie">
              <div class="movie-title">{{ movie.title }}</div>
              <div class="movie-description">{{ movie.description }}</div>
            </div>
          {% endfor %}

          <!-- Display Playlist Description -->
          <div class="playlist-footer">
            <em>{{ playlist.playlist_description }}</em>
          </div>
        </div>
      {% endfor %}
    </div>
    {% endif %}

  </body>

</html>
